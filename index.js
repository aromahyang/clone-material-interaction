(()=>{"use strict";const e={background:"#00a896",circle:"#FCB447",rectangle:"#fff",cancel:"#ef4d80"},t={background:"#ea1b75",circle:"#fcb447",cancel:"#1f4388"},n={background:"#904199",rectangle:"#fff",cancel:"#00a896"},i={background:"#204489",circle:"rgba(255, 255, 255, 0.12)",line:"#d24b80",cancel:"#fcb447"},o={background:"#bacbe9",rectangle1:"#fff",rectangle2:"#ee4a7f",rectangle3:"#1f4288",cancel:"#904199"},s=document.querySelector("#root");function r(){const e=document.createElement("div");e.className="sub-container";const t=document.createElement("canvas");t.style.width="100%",t.style.height="100%",e.appendChild(t),s.appendChild(e)}function d(e,t){e.fillStyle=t,e.fillRect(0,0,window.innerWidth,window.innerHeight)}function a(e){s.insertAdjacentHTML("beforeend",`\n\t<div id="close">\n\t\t<span style="background-color: ${e}; transform: matrix(1, 0, 0, 1, 0, 0);"></span>\n\t\t<i style="transform: matrix(1, 0, 0, 1, 0, 0);"></i>\n\t</div>\n\t`)}function l({$target:e,id:t,backgroundColor:n}){const i=document.createElement("div");return i.id=t,i.className="index-box",i.style.backgroundColor=n,e.appendChild(i),i}function c(e){e.querySelectorAll(".index-line").forEach((e=>{e.style.transform="translate(0, 0)"}))}const h=function({$target:t}){const n=e,{round:i}=Math,o=l({$target:t,id:"index-1",backgroundColor:n.background});let s=null;this.disappear=()=>{c(o),s.style.opacity=0,s.style.transform="translate(0px, 0px) scale(0.9, 0.9)"},this.resize=()=>{const{innerHeight:e,innerWidth:t}=window,s=e/t,r=s<=1?i(t/2):t,d=s<=1?e:i(e/2);o.style.width=`${r}px`,o.style.height=`${d}px`,(({ratio:e,boxWidth:t,boxHeight:s})=>{const r=i(t/2),d=i(e<=1?t/2:s/2),a=i(e<=1?t/12:s/12);o.innerHTML=`\n\t\t<div id="index-box-con-1" class="index-box-con" style="background-color: ${n.background}; opacity: 1; transform: translate(0px, 0px) scale(1, 1);">\n\t\t\t<div class="surface-box" style="width: ${d}px; height: ${d}px; transform: translate(${r-i(d/2)}px, ${i(e<=1?s/3-d/2:s/10)}px);"></div>\n\t\t\t<div class="surface-circle" style="width: ${2*a}px; height: ${2*a}px; transform: translate(${r-a}px, ${i(e<=1?2*s/3:7*s/10)}px);"></div>\n\t\t</div>\n\t\t\n\t<div id="index-line-0" class="index-line"></div>\n\t<div id="index-line-1" class="index-line"></div>\n\t<div id="index-line-2" class="index-line"></div>\n\t<div id="index-line-3" class="index-line"></div>\n\t\n\t\t`})({ratio:s,boxWidth:r,boxHeight:d})};const r=e=>{if("transform"!==e.propertyName)return;const t=o.clientWidth-80,n=o.clientHeight-80,i=Math.ceil(window.innerWidth/t),d=Math.ceil(window.innerHeight/n),a=document.querySelector("#index-canvas");a.style.display="block",a.style.width=o.clientWidth-80+"px",a.style.height=o.clientHeight-80+"px",a.style.transform=`${a.style.transform} scale(${2*i}, ${2*d})`,s.removeEventListener("transitionend",r)};(()=>{this.resize(),s=document.querySelector("#index-box-con-1"),s.addEventListener("transitionend",r)})()},x=function({$target:e}){const n=t,{round:i}=Math,o=l({$target:e,id:"index-2",backgroundColor:n.background});let s=null;this.disappear=()=>{c(o),s.style.opacity=0,s.style.transform="translate(0px, 0px) scale(0.9, 0.9)"},this.resize=()=>{const{innerHeight:e,innerWidth:t}=window,s=e/t,r=i(s<1?e/6:t/6);o.style.width=`${i(t/2)}px`,o.style.height=`${i(e/2)}px`,o.style.transform=s<=1?`translate(${i(t/2)}px, 0)`:`translate(0, ${i(e/2)}px)`,(({innerWidth:e,innerHeight:t,radius:s})=>{const r=i(e/4),d=i(t/4);o.innerHTML=`\n\t\t<div id="index-box-con-2" class="index-box-con" style="background-color: ${n.background}; opacity: 1; transform: translate(0px, 0px) scale(1, 1);">\n\t\t\t<div class="action-circle" style="width: ${2*s}px; height: ${2*s}px; transform: translate(${r-s}px, ${d-s}px);"></div>\n\t\t\t<div class="action-box" style="width: ${i(2*s/3)}px; height: ${i(s/10)}px; transform: translate(${r-i(s/3)}px, ${d-i(s/20)}px);"></div>\n\t\t\t<div class="action-box" style="width: ${i(s/10)}px; height: ${i(2*s/3)}px; transform: translate(${r-i(s/20)}px, ${d-i(s/3)}px);"></div>\n\t\t</div>\n\t\t\n\t<div id="index-line-0" class="index-line"></div>\n\t<div id="index-line-1" class="index-line"></div>\n\t<div id="index-line-2" class="index-line"></div>\n\t<div id="index-line-3" class="index-line"></div>\n\t\n\t\t`})({ratio:s,innerWidth:t,innerHeight:e,radius:r})};const r=e=>{if("transform"!==e.propertyName)return;const t=o.clientWidth-80,n=o.clientHeight-80,i=Math.ceil(window.innerWidth/t),d=Math.ceil(window.innerHeight/n),a=document.querySelector("#index-canvas");a.style.display="block",a.style.width=o.clientWidth-80+"px",a.style.height=o.clientHeight-80+"px",a.style.transform=`${a.style.transform} scale(${2*i}, ${2*d})`,s.removeEventListener("transitionend",r)};(()=>{this.resize(),s=document.querySelector("#index-box-con-2"),s.addEventListener("transitionend",r)})()},u=function({$target:e}){const t=n,{round:i}=Math,o=l({$target:e,id:"index-3",backgroundColor:t.background});let s=null;this.disappear=()=>{c(o),s.style.opacity=0,s.style.transform="translate(0px, 0px) scale(0.9, 0.9)"},this.resize=()=>{const{innerHeight:e,innerWidth:n}=window,s=e/n,r=i(s<=1?n/4:n/2),d=i(s<=1?e/2:e/4);o.style.width=`${i(r)}px`,o.style.height=`${i(d)}px`,o.style.transform=`translate(${i(n/2)}px, ${i(e/2)}px)`,(({ratio:e,boxWidth:n,boxHeight:s})=>{const r=i(e<=1?n/3:s/3),d=i(e<=1?n/10:s/10);o.innerHTML=`\n\t\t<div id="index-box-con-3" class="index-box-con" style="background-color: ${t.background}; opacity: 1; transform: translate(0px, 0px) scale(1, 1);">\n\t\t\t<div class="motion-box" style="width: ${r}px; height: ${r}px; transform: translate(${d}px, ${d}px);"></div>\n\t\t\t<canvas id="meaningful-motion-card" class="motion-canvas" width="${n}" height="${s}"></canvas>\n\t\t</div>\n\t\t\n\t<div id="index-line-0" class="index-line"></div>\n\t<div id="index-line-1" class="index-line"></div>\n\t<div id="index-line-2" class="index-line"></div>\n\t<div id="index-line-3" class="index-line"></div>\n\t\n\t\t`;const a=document.querySelector("#meaningful-motion-card").getContext("2d"),l=a.createLinearGradient(d,d,n,s);l.addColorStop(0,"rgba(229, 88, 95, 1)"),l.addColorStop(1,"rgba(229, 88, 95, 0)"),a.fillStyle=l,a.beginPath(),a.moveTo(d,d+r),a.lineTo(n,s+r),a.lineTo(n+r,s),a.lineTo(d+r,d),a.fill()})({ratio:s,boxWidth:r,boxHeight:d})};const r=e=>{if("transform"!==e.propertyName)return;const t=o.clientWidth-80,n=o.clientHeight-80,i=Math.ceil(window.innerWidth/t),d=Math.ceil(window.innerHeight/n),a=document.querySelector("#index-canvas");a.style.display="block",a.style.width=o.clientWidth-80+"px",a.style.height=o.clientHeight-80+"px",a.style.transform=`${a.style.transform} scale(${2*i}, ${2*d})`,s.removeEventListener("transitionend",r)};(()=>{this.resize(),s=document.querySelector("#index-box-con-3"),s.addEventListener("transitionend",r)})()},m=function({$target:e}){const t=i,{round:n}=Math,o=l({$target:e,id:"index-4",backgroundColor:t.background});let s=null;this.disappear=()=>{c(o),s.style.opacity=0,s.style.transform="translate(0px, 0px) scale(0.9, 0.9)"},this.resize=()=>{const{innerHeight:e,innerWidth:i}=window,s=e/i,r=n(i/4),d=n(e/4);o.style.width=`${r}px`,o.style.height=`${d}px`,o.style.transform=s<=1?`translate(${n(3*i/4)}px, ${e/2}px)`:`translate(${n(i/2)}px, ${n(3*e/4)}px)`,(({ratio:e,boxWidth:i,boxHeight:s})=>{o.innerHTML=`\n\t\t<div id="index-box-con-4" class="index-box-con" style="background-color: ${t.background}; opacity: 1; transform: translate(0px, 0px) scale(1, 1);">\n\t\t\t<canvas id="user-initiated-change-card" class="motion-canvas" width="${i}" height="${s}"></canvas>\n\t\t</div>\n\t\t\n\t<div id="index-line-0" class="index-line"></div>\n\t<div id="index-line-1" class="index-line"></div>\n\t<div id="index-line-2" class="index-line"></div>\n\t<div id="index-line-3" class="index-line"></div>\n\t\n\t\t`;const r=document.querySelector("#user-initiated-change-card").getContext("2d"),d=n(e<=1?s/4:i/4),a=n(e<=1?i/10:s/10),l={x:e<=1?i-a-d:n(i/2),y:e<=1?n(s/2):s-a-d},c=n(i/24),h=n(s/24);for(let e=0;e<c;e++)for(let n=0;n<h;n++){const i=12+24*e,o=12+24*n,s=Math.atan2(o-l.y,i-l.x);r.save(),r.translate(i,o),r.rotate(s),r.beginPath(),r.strokeStyle=t.line,r.lineWidth=3,r.lineCap="round",r.moveTo(-6,0),r.lineTo(6,0),r.stroke(),r.restore()}r.beginPath(),r.fillStyle=t.circle,r.arc(l.x,l.y,d,2*Math.PI,!1),r.fill()})({ratio:s,boxWidth:r,boxHeight:d})};const r=e=>{if("transform"!==e.propertyName)return;const t=o.clientWidth-80,n=o.clientHeight-80,i=Math.ceil(window.innerWidth/t),d=Math.ceil(window.innerHeight/n),a=document.querySelector("#index-canvas");a.style.display="block",a.style.width=o.clientWidth-80+"px",a.style.height=o.clientHeight-80+"px",a.style.transform=`${a.style.transform} scale(${2*i}, ${2*d})`,s.removeEventListener("transitionend",r)};(()=>{this.resize(),s=document.querySelector("#index-box-con-4"),s.addEventListener("transitionend",r)})()},p=function({$target:e}){const t=o,{round:n}=Math,i=l({$target:e,id:"index-5",backgroundColor:t.background});let s=null;const r=({context:e,p1:t,p2:n,p3:i,p4:o,color:s})=>{e.fillStyle=s,e.beginPath(),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(i[0],i[1]),e.lineTo(o[0],o[1]),e.fill()};this.disappear=()=>{c(i),s.style.opacity=0,s.style.transform="translate(0px, 0px) scale(0.9, 0.9)"},this.resize=()=>{const{innerHeight:e,innerWidth:o}=window,s=n(o/4),d=n(e/4);i.style.width=`${s}px`,i.style.height=`${d}px`,i.style.transform=`translate(${n(3*o/4)}px, ${3*e/4}px)`,(({boxWidth:e,boxHeight:o})=>{i.innerHTML=`\n\t\t<div id="index-box-con-5" class="index-box-con" style="background-color: ${t.background}; opacity: 1; transform: translate(0px, 0px) scale(1, 1);">\n\t\t\t<canvas id="dimensional-affordances-card" class="motion-canvas" width="${e}" height="${o}"></canvas>\n\t\t</div>\n\t\t\n\t<div id="index-line-0" class="index-line"></div>\n\t<div id="index-line-1" class="index-line"></div>\n\t<div id="index-line-2" class="index-line"></div>\n\t<div id="index-line-3" class="index-line"></div>\n\t\n\t\t`;const s=document.querySelector("#dimensional-affordances-card").getContext("2d"),d=[n(e/6),n(e/2),n(5*e/6)],a=[n(o/6),n(o/3),n(o/2),n(2*o/3),n(5*o/6)];r({context:s,p1:[d[0],a[3]],p2:[d[1],a[4]],p3:[d[2],a[3]],p4:[d[1],a[2]],color:t.rectangle3}),r({context:s,p1:[d[0],a[2]],p2:[d[1],a[3]],p3:[d[2],a[2]],p4:[d[1],a[1]],color:t.rectangle2}),r({context:s,p1:[d[0],a[1]],p2:[d[1],a[2]],p3:[d[2],a[1]],p4:[d[1],a[0]],color:t.rectangle1})})({boxWidth:s,boxHeight:d})};const d=e=>{if("transform"!==e.propertyName)return;const t=i.clientWidth-80,n=i.clientHeight-80,o=Math.ceil(window.innerWidth/t),r=Math.ceil(window.innerHeight/n),a=document.querySelector("#index-canvas");a.style.display="block",a.style.width=i.clientWidth-80+"px",a.style.height=i.clientHeight-80+"px",a.style.transform=`${a.style.transform} scale(${2*o}, ${2*r})`,s.removeEventListener("transitionend",d)};(()=>{this.resize(),s=document.querySelector("#index-box-con-5"),s.addEventListener("transitionend",d)})()},g=function({onClose:t}){const n=e,i={x:0,y:0,width:Math.round(Math.min(window.innerWidth,window.innerHeight)/2),height:Math.round(Math.min(window.innerWidth,window.innerHeight)/2)},o={x:0,y:0,vx:16,vy:8},l=Math.round(i.width/4)<20?20:Math.round(i.width/4)>48?48:Math.round(i.width/4);let c=null,h=null,x=!1,u=!1;const m=()=>{const{x:e,y:t,width:o,height:s}=i;h.fillStyle=n.rectangle,h.fillRect(e,t,o,s),h.font="bold 18px serif",h.fillStyle=n.background,h.fillText("⤡",e+o-24,t+s-12)},p=e=>{const{innerHeight:t,innerWidth:n}=window;if(e){const e=Math.round(n/2),i=Math.round(t/2),s=[[e,l],[e,t-l],[l,i],[n-l,i]],r=Math.floor(4*Math.random());return o.x=s[r][0],o.y=s[r][1],o.x>n/2&&(o.vx*=-1),void(o.y>t/2&&(o.vy*=-1))}const s=o.x+o.vx,r=o.y+o.vy,d=r-l<=0||r+l>=t;if((s-l<=0||s+l>=n)&&(o.vx*=-1),d&&(o.vy*=-1),s+l>=i.x&&s-l<=i.x+i.width&&r+l>=i.y&&r-l<=i.y+i.height){const e=Math.abs(i.x-(o.x+l)),t=Math.abs(i.x+i.width-(o.x-l)),n=Math.abs(i.y-(r+l)),s=Math.abs(i.y+i.height-(r-l)),d=Math.min(e,t),a=Math.min(n,s),c=Math.min(d,a);c===d?o.vx*=-1:c===a&&(o.vy*=-1)}o.x+=o.vx,o.y+=o.vy},g=()=>{h.beginPath(),h.arc(o.x,o.y,l,0,2*Math.PI,!1),h.fillStyle=n.circle,h.fill()},v=(e,t)=>{const{x:n,y:o,width:s,height:r}=i,d=n+s,a=o+r;return e>=d-40&&e<=d&&t>=a-40&&t<=a},y=(e,t)=>{const{x:n,y:o,width:s,height:r}=i;return e>=n&&e<=n+s&&t>=o&&t<=o+r},f=e=>{if((e.path??e.composedPath()).some((e=>e.id&&"close"===e.id)))return t(),s.removeEventListener("mousedown",f),s.removeEventListener("mousemove",w),void s.removeEventListener("mouseup",b);const{offsetX:n,offsetY:i}=e;v(n,i)?u=!0:x=y(n,i)},w=e=>{const{offsetX:t,offsetY:n,movementX:o,movementY:r}=e;s.className=v(t,n)?"c-resize":y(t,n)?"c-move":"c-normal",u&&((e,t)=>{const{width:n,height:o}=i;n+e<80||o+t<80||(i.width=n+e,i.height=o+t,m())})(o,r),x&&((e,t)=>{i.x+=e,i.y+=t,m()})(o,r)},b=()=>{x=!1,u=!1};this.resizeCanvas=()=>{const{innerWidth:e,innerHeight:t}=window;c.width=e,c.height=t,i.x=Math.floor(e/2-i.width/2),i.y=Math.floor(t/2-i.height/2),d(h,n.background),m(),g()};const $=()=>{p(),h.clearRect(0,0,window.innerWidth,window.innerHeight),d(h,n.background),m(),g(),window.requestAnimationFrame($)};(()=>{r(),c=document.querySelector("canvas"),h=c.getContext("2d"),p(!0),this.resizeCanvas(),a(n.cancel),window.requestAnimationFrame($)})(),s.addEventListener("mousedown",f),s.addEventListener("mousemove",w),s.addEventListener("mouseup",b)},v=function({onClose:e}){const t=i,n={x:0,y:0,r:60};let o=null,l=null,c=!1;const h=(e,t)=>{const{x:i,y:o,r:s}=n;return(e-i)*(e-i)+(t-o)*(t-o)<=s*s},x=()=>{const{innerHeight:e,innerWidth:i}=window,o=Math.round(i/40),s=Math.round(e/40);for(let e=0;e<o;e++)for(let i=0;i<s;i++){const o=20+40*e,s=20+40*i,r=Math.atan2(s-n.y,o-n.x);l.save(),l.translate(o,s),l.rotate(r),l.beginPath(),l.strokeStyle=t.line,l.lineWidth=3,l.lineCap="round",l.moveTo(-12,0),l.lineTo(12,0),l.stroke(),l.restore()}},u=()=>{l.save();const{x:e,y:i,r:o}=n;l.beginPath(),l.fillStyle=t.circle,l.arc(e,i,o,0,2*Math.PI,!1),l.fill(),l.restore()},m=t=>{if((t.path??t.composedPath()).some((e=>e.id&&"close"===e.id)))return e(),s.removeEventListener("mousedown",m),s.removeEventListener("mousemove",p),void s.removeEventListener("mouseup",g);const{offsetX:n,offsetY:i}=t;c=h(n,i)};this.resizeCanvas=()=>{const{innerWidth:e,innerHeight:i}=window;o.width=e,o.height=i,n.x+n.r>e-180&&(n.x=e-180-n.r),i-(n.y+n.r)<180&&(n.y=i-180-n.r),d(l,t.background),x(),u()};const p=e=>{const{offsetX:t,offsetY:i,movementX:o,movementY:r}=e;s.className=h(t,i)?"c-move":"c-normal",c&&(n.x+=o,n.y+=r,u())},g=()=>{c=!1},v=()=>{d(l,t.background),x(),u(),window.requestAnimationFrame(v)};(()=>{const{innerWidth:e,innerHeight:i}=window;r(),o=document.querySelector("canvas"),o.width=e,o.height=i,l=o.getContext("2d"),n.x=e-180-n.r,n.y=Math.round(i/2),a(t.cancel),window.requestAnimationFrame(v)})(),s.addEventListener("mousedown",m),s.addEventListener("mousemove",p),s.addEventListener("mouseup",g)},y=function({onClose:e}){const t=n,i={x:60,y:60,width:200,height:200},o={x:0,y:0,width:200,height:200};let l=null,c=null,h=!1;const x=()=>{const{x:e,y:n,width:o,height:s}=i;c.fillStyle=t.rectangle,c.fillRect(e,n,o,s)},u=()=>{const e=c.createLinearGradient(i.x,0,o.x+o.width,o.y+o.height);e.addColorStop(0,"rgba(229, 88, 95, 1)"),e.addColorStop(1,"rgba(229, 88, 95, 0)"),c.fillStyle=e,c.beginPath(),i.x<=o.x?(c.moveTo(i.x,i.y+i.height),c.lineTo(o.x,o.y+o.height),c.lineTo(o.x+o.width,o.y),c.lineTo(i.x+i.width,i.y)):(c.moveTo(i.x,i.y),c.lineTo(o.x,o.y),c.lineTo(o.x+o.width,o.y+o.height),c.lineTo(i.x+i.width,i.y+i.height)),c.fill()};this.resizeCanvas=()=>{const{innerWidth:e,innerHeight:n}=window;l.width=e,l.height=n,o.x=Math.round(Math.abs(e-o.width)/2),o.y=n,d(c,t.background),u(),x()};const m=(e,t)=>{const{x:n,y:o,width:s,height:r}=i;return e>=n&&e<=n+s&&t>=o&&t<=o+r},p=t=>{if((t.path??t.composedPath()).some((e=>e.id&&"close"===e.id)))return e(),s.removeEventListener("mousedown",p),s.removeEventListener("mousemove",g),void s.removeEventListener("mouseup",v);const{offsetX:n,offsetY:i}=t;h=m(n,i)},g=e=>{const{movementX:n,movementY:o,offsetX:r,offsetY:a}=e;m(r,a)?s.className="c-move":s.className="c-normal",h&&(i.x+=n,i.y+=o,d(c,t.background),u(),x())},v=()=>{h=!1};(()=>{r(),l=document.querySelector("canvas"),c=l.getContext("2d"),this.resizeCanvas(),a(t.cancel)})(),s.addEventListener("mousedown",p),s.addEventListener("mousemove",g),s.addEventListener("mouseup",v)},f=function({onClose:e}){const n=t,i=[{x:0,y:0,r:0}];let o=null,l=null;const c=t=>{if((t.path??t.composedPath()).some((e=>e.id&&"close"===e.id)))return e(),void s.removeEventListener("mousedown",c);const{offsetX:n,offsetY:i}=t};this.resizeCanvas=()=>{const{innerWidth:e,innerHeight:t}=window;o.width=e,o.height=t,i[0].x=Math.round(e/2),i[0].y=Math.round(t/2),i[0].r=Math.round(1*Math.min(t,e)/3),d(l,n.background)};const h=()=>{d(l,n.background),i.forEach((e=>{l.beginPath(),l.fillStyle=n.circle,l.arc(e.x,e.y,e.r,2*Math.PI,!1),l.fill()})),window.requestAnimationFrame(h)};(()=>{r(),o=document.querySelector("canvas"),l=o.getContext("2d"),this.resizeCanvas(),a(n.cancel),window.requestAnimationFrame(h)})(),s.addEventListener("mousedown",c)},w=function({onClose:e}){const t=o,n=[t.rectangle1,t.rectangle2,t.rectangle3],i={x1:0,y1:0,x2:0,y2:0,width:240,height:120,dx:20,dy:40},l={up:!1,down:!1};let c=null,h=null,x={},u=!1;const m=({p1:e,p2:t,p3:n,p4:i,color:o,moving:s})=>{h.fillStyle=o,h.beginPath(),s||(h.moveTo(e[0],e[1]),h.lineTo(t[0],t[1]),h.lineTo(n[0],n[1]),h.lineTo(i[0],i[1])),h.fill()},p=(e,t)=>{const{x1:n,y1:o,x2:s,y2:r,width:d,height:a}=i;return e>=n&&e<=s+d&&t>=o-a&&t<=r+2*a},g=()=>{x=(({dx:e,dy:t,...n})=>n)(i)};this.resizeCanvas=()=>{const{innerWidth:e,innerHeight:o}=window;c.width=e,c.height=o,e<=480+i.dx?(i.width=(e-i.dx)/2,i.height=Math.round(i.width/2)):(i.width=240,i.height=120);const s=Math.round(e/2),r=Math.round(o/2);i.x1=s-i.dx/2-i.width,i.y1=r-i.dy/2-i.height,i.x2=s+i.dx/2,i.y2=r+i.dy/2,g();const{x1:a,y1:l,x2:x,y2:u,width:p,height:v}=i;d(h,t.background),m({p1:[a,l+2*v],p2:[a+p,l+v],p3:[x+p,u+v],p4:[x,u+2*v],color:n[2]}),m({p1:[a,l+v],p2:[a+p,l],p3:[x+p,u],p4:[x,u+v],color:n[1]}),m({p1:[a,l],p2:[a+p,l-v],p3:[x+p,u-v],p4:[x,u],color:n[0]})};const v=t=>{if((t.path??t.composedPath()).some((e=>e.id&&"close"===e.id)))return e(),s.removeEventListener("mousedown",v),s.removeEventListener("mousemove",y),void s.removeEventListener("mouseup",f);const{offsetX:n,offsetY:i}=t;u=p(n,i)},y=e=>{const{offsetX:t,offsetY:n,movementY:o}=e;if(s.className=p(t,n)?"c-slide":"c-normal",!u)return;const{y1:r,y2:d,height:a}=i,c=x.y1+o,h=x.y2+o;c<r-a||h>d+a||(x.y1+=o,x.y2+=o,l.up=x.y2+x.height<=d+a/2,l.down=x.y2+x.height>=d+2*a-a/2)},f=()=>{u=!1,g(),(l.up||l.down)&&(()=>{const e=n[1];n[1]=n[2],n[2]=e})()},w=()=>{const{x1:e,y1:o,x2:s,y2:r,width:a,height:l}=i;d(h,t.background),m({p1:[e,o+2*l],p2:[e+a,o+l],p3:[s+a,r+l],p4:[s,r+2*l],color:n[2]}),m(u?{p1:[x.x1,x.y1+x.height],p2:[x.x1+x.width,x.y1],p3:[x.x2+x.width,x.y2],p4:[x.x2,x.y2+x.height],color:n[1]}:{p1:[e,o+l],p2:[e+a,o],p3:[s+a,r],p4:[s,r+l],color:n[1]}),m({p1:[e,o],p2:[e+a,o-l],p3:[s+a,r-l],p4:[s,r],color:n[0]}),window.requestAnimationFrame(w)};(()=>{r(),c=document.querySelector("canvas"),h=c.getContext("2d"),this.resizeCanvas(),a(t.cancel),window.requestAnimationFrame(w)})(),s.addEventListener("mousedown",v),s.addEventListener("mousemove",y),s.addEventListener("mouseup",f)};new function(){this.index=0,this.indexContainer={tangibleSurfaces:null,emphasizeActions:null,meaningfulMotion:null,userInitiatedChange:null,dimensionalAffordances:null},this.subContainer=null;let r=null,d=null;const a=()=>{const{innerWidth:e,innerHeight:t}=window,{round:n}=Math,i=t/e;let o=0,s=0;return 1===this.index?(o=40,s=40):2===this.index?(o=i<=1?n(e/2)+40:40,s=i<=1?40:n(t/2)+40):3===this.index?(o=n(e/2)+40,s=n(t/2)+40):4===this.index?(o=i<=1?n(3*e/4)+40:n(e/2)+40,s=i<=1?n(t/2)+40:n(3*t/4)+40):5===this.index&&(o=n(3*e/4)+40,s=n(3*t/4)+40),{x:o,y:s}},l=()=>{const e=()=>{this.subContainer=null,this.setIndex(0)};1===this.index?this.subContainer=new g({onClose:e}):2===this.index?this.subContainer=new f({onClose:e}):3===this.index?this.subContainer=new y({onClose:e}):4===this.index?this.subContainer=new v({onClose:e}):5===this.index&&(this.subContainer=new w({onClose:e}))},c=()=>{r.removeEventListener("click",$),d.removeEventListener("transitionend",c),document.querySelector(".index-container").remove(),l()},b=()=>{const{x:s,y:l}=a();let h;d=document.createElement("div"),d.id="index-canvas",h=1===this.index?e.background:2===this.index?t.background:3===this.index?n.background:4===this.index?i.background:5===this.index?o.background:"#fff",d.style.backgroundColor=h,d.style.transform=`translate(${s}px, ${l}px)`,d.style.display="none",r.appendChild(d),d.addEventListener("transitionend",c)};this.setIndex=e=>{this.index=e,this.render()};const $=e=>{const t=(e.path??e.composedPath())[0].id,n=t.indexOf("-"),i=+t.slice(n+1);this.setIndex(i),b()};this.render=()=>{switch(this.index){case 1:this.indexContainer.tangibleSurfaces.disappear();break;case 2:this.indexContainer.emphasizeActions.disappear();break;case 3:this.indexContainer.meaningfulMotion.disappear();break;case 4:this.indexContainer.userInitiatedChange.disappear();break;case 5:this.indexContainer.dimensionalAffordances.disappear();break;default:{const e=document.querySelector(".sub-container");e&&(e.remove(),document.querySelector("#close").remove()),r=document.createElement("div"),r.className="index-container",r.style.cursor="pointer",s.appendChild(r),r.addEventListener("click",$),this.indexContainer={tangibleSurfaces:new h({$target:r}),emphasizeActions:new x({$target:r}),meaningfulMotion:new u({$target:r}),userInitiatedChange:new m({$target:r}),dimensionalAffordances:new p({$target:r})}}}},this.render(),window.addEventListener("resize",(()=>{this.index>0?this.subContainer.resizeCanvas():(this.indexContainer.tangibleSurfaces.resize(),this.indexContainer.emphasizeActions.resize(),this.indexContainer.meaningfulMotion.resize(),this.indexContainer.userInitiatedChange.resize(),this.indexContainer.dimensionalAffordances.resize())}))}})();
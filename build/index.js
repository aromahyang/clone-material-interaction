(()=>{"use strict";const e={background:"#00a896",circle:"#FCB447",rectangle:"#fff",cancel:"#ef4d80"},t={background:"#ea1b75",circle:"#fcb447",cancel:"#fcb447"},n={background:"#904199",rectangle:"#fff",cancel:"#00a896"},i={background:"#204489",circle:"rgba(255, 255, 255, 0.12)",line:"#d24b80",cancel:"#fcb447"},o={background:"#bacbe9",rectangle1:"#fff",rectangle2:"#ee4a7f",rectangle3:"#1f4288",cancel:"#904199"},d=document.querySelector("#root");function a(){const e=document.createElement("div");e.className="sub-container";const t=document.createElement("canvas");t.style.width="100%",t.style.height="100%",e.appendChild(t),d.appendChild(e)}function r(e,t){e.fillStyle=t,e.fillRect(0,0,window.innerWidth,window.innerHeight)}function s(e){d.insertAdjacentHTML("beforeend",`\n\t<div id="close">\n\t\t<span style="background-color: ${e}; transform: matrix(1, 0, 0, 1, 0, 0);"></span>\n\t\t<i style="transform: matrix(1, 0, 0, 1, 0, 0);"></i>\n\t</div>\n\t`)}function l({$target:e,id:t}){const n=document.createElement("div");return n.id=t,n.className="index-box",e.appendChild(n),n}const c=function({$target:t}){const n=e,{round:i}=Math,o=l({$target:t,id:"index-1"});t.appendChild(o),this.resize=()=>{const{innerHeight:e,innerWidth:t}=window,d=e/t,a=d<=1?i(t/2):t,r=d<=1?e:i(e/2);o.style.width=`${a}px`,o.style.height=`${r}px`,(({ratio:e,boxWidth:t,boxHeight:d})=>{const a=i(t/2),r=i(e<=1?t/2:d/2),s=i(e<=1?t/12:d/12);o.innerHTML=`\n\t\t<div class="index-box-con" style="width: 100%; height: 100%; background-color: ${n.background}; transition-duration: 0.3s; opacity: 1; transform: translate(0px, 0px) scale(1, 1);">\n\t\t\t<div class="surface-box" style="width: ${r}px; height: ${r}px; transform: translate(${a-i(r/2)}px, ${i(e<=1?d/3-r/2:d/10)}px);"></div>\n\t\t\t<div class="surface-circle" style="width: ${2*s}px; height: ${2*s}px; transform: translate(${a-s}px, ${i(e<=1?2*d/3:7*d/10)}px);"></div>\n\t\t</div>\n\t\t\n\t<div id="index-line-0" class="index-line"></div>\n\t<div id="index-line-1" class="index-line"></div>\n\t<div id="index-line-2" class="index-line"></div>\n\t<div id="index-line-3" class="index-line"></div>\n\t\n\t\t`})({ratio:d,boxWidth:a,boxHeight:r})},this.resize()},h=function({$target:e}){const n=t,{round:i}=Math,o=l({$target:e,id:"index-2"});this.resize=()=>{const{innerHeight:e,innerWidth:t}=window,d=e/t,a=i(d<1?e/6:t/6);o.style.width=`${i(t/2)}px`,o.style.height=`${i(e/2)}px`,o.style.transform=d<=1?`translate(${i(t/2)}px, 0)`:`translate(0, ${i(e/2)}px)`,(({innerWidth:e,innerHeight:t,radius:d})=>{const a=i(e/4),r=i(t/4);o.innerHTML=`\n\t\t<div class="index-box-con" style="background-color: ${n.background}; transition-duration: 0.3s; opacity: 1; transform: translate(0px, 0px) scale(1, 1);">\n\t\t\t<div class="action-circle" style="width: ${2*d}px; height: ${2*d}px; transform: translate(${a-d}px, ${r-d}px);"></div>\n\t\t\t<div class="action-box" style="width: ${i(2*d/3)}px; height: ${i(d/10)}px; transform: translate(${a-i(d/3)}px, ${r-i(d/20)}px);"></div>\n\t\t\t<div class="action-box" style="width: ${i(d/10)}px; height: ${i(2*d/3)}px; transform: translate(${a-i(d/20)}px, ${r-i(d/3)}px);"></div>\n\t\t</div>\n\t\t\n\t<div id="index-line-0" class="index-line"></div>\n\t<div id="index-line-1" class="index-line"></div>\n\t<div id="index-line-2" class="index-line"></div>\n\t<div id="index-line-3" class="index-line"></div>\n\t\n\t\t`})({ratio:d,innerWidth:t,innerHeight:e,radius:a})},this.resize()},x=function({$target:e}){const t=n,{round:i}=Math,o=l({$target:e,id:"index-3"});e.appendChild(o),this.resize=()=>{const{innerHeight:e,innerWidth:n}=window,d=e/n,a=i(d<=1?n/4:n/2),r=i(d<=1?e/2:e/4);o.style.width=`${i(a)}px`,o.style.height=`${i(r)}px`,o.style.transform=`translate(${i(n/2)}px, ${i(e/2)}px)`,(({ratio:e,boxWidth:n,boxHeight:d})=>{const a=i(e<=1?n/3:d/3),r=i(e<=1?n/10:d/10);o.innerHTML=`\n\t\t<div class="index-box-con" style="background-color: ${t.background}; transition-duration: 0.3s; opacity: 1; transform: translate(0px, 0px) scale(1, 1);">\n\t\t\t<div class="motion-box" style="width: ${a}px; height: ${a}px; transform: translate(${r}px, ${r}px);"></div>\n\t\t\t<canvas id="meaningful-motion-card" class="motion-canvas" width="${n}" height="${d}"></canvas>\n\t\t</div>\n\t\t\n\t<div id="index-line-0" class="index-line"></div>\n\t<div id="index-line-1" class="index-line"></div>\n\t<div id="index-line-2" class="index-line"></div>\n\t<div id="index-line-3" class="index-line"></div>\n\t\n\t\t`;const s=document.querySelector("#meaningful-motion-card").getContext("2d"),l=s.createLinearGradient(r,r,n,d);l.addColorStop(0,"rgba(229, 88, 95, 1)"),l.addColorStop(1,"rgba(229, 88, 95, 0)"),s.fillStyle=l,s.beginPath(),s.moveTo(r,r+a),s.lineTo(n,d+a),s.lineTo(n+a,d),s.lineTo(r+a,r),s.fill()})({ratio:d,boxWidth:a,boxHeight:r})},this.resize()},u=function({$target:e}){const t=i,{round:n}=Math,o=l({$target:e,id:"index-4"});this.resize=()=>{const{innerHeight:e,innerWidth:i}=window,d=e/i,a=n(i/4),r=n(e/4);o.style.width=`${a}px`,o.style.height=`${r}px`,o.style.transform=d<=1?`translate(${n(3*i/4)}px, ${e/2}px)`:`translate(${n(i/2)}px, ${n(3*e/4)}px)`,(({ratio:e,boxWidth:i,boxHeight:d})=>{o.innerHTML=`\n\t\t<div class="index-box-con" style="background-color: ${t.background}; transition-duration: 0.3s; opacity: 1; transform: translate(0px, 0px) scale(1, 1);">\n\t\t\t<canvas id="user-initiated-change-card" class="motion-canvas" width="${i}" height="${d}"></canvas>\n\t\t</div>\n\t\t\n\t<div id="index-line-0" class="index-line"></div>\n\t<div id="index-line-1" class="index-line"></div>\n\t<div id="index-line-2" class="index-line"></div>\n\t<div id="index-line-3" class="index-line"></div>\n\t\n\t\t`;const a=document.querySelector("#user-initiated-change-card").getContext("2d"),r=n(e<=1?d/4:i/4),s=n(e<=1?i/10:d/10),l={x:e<=1?i-s-r:n(i/2),y:e<=1?n(d/2):d-s-r},c=n(i/24),h=n(d/24);for(let e=0;e<c;e++)for(let n=0;n<h;n++){const i=12+24*e,o=12+24*n,d=Math.atan2(o-l.y,i-l.x);a.save(),a.translate(i,o),a.rotate(d),a.beginPath(),a.strokeStyle=t.line,a.lineWidth=3,a.lineCap="round",a.moveTo(-6,0),a.lineTo(6,0),a.stroke(),a.restore()}a.beginPath(),a.fillStyle=t.circle,a.arc(l.x,l.y,r,2*Math.PI,!1),a.fill()})({ratio:d,boxWidth:a,boxHeight:r})},this.resize()},g=function({$target:e}){const t=o,{round:n}=Math,i=l({$target:e,id:"index-5"}),d=({context:e,p1:t,p2:n,p3:i,p4:o,color:d})=>{e.fillStyle=d,e.beginPath(),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(i[0],i[1]),e.lineTo(o[0],o[1]),e.fill()};this.resize=()=>{const{innerHeight:e,innerWidth:o}=window,a=e/o,r=n(o/4),s=n(e/4);i.style.width=`${r}px`,i.style.height=`${s}px`,i.style.transform=`translate(${n(3*o/4)}px, ${3*e/4}px)`,(({ratio:e,boxWidth:o,boxHeight:a})=>{i.innerHTML=`\n\t\t<div class="index-box-con" style="background-color: ${t.background}; transition-duration: 0.3s; opacity: 1; transform: translate(0px, 0px) scale(1, 1);">\n\t\t\t<canvas id="dimensional-affordances-card" class="motion-canvas" width="${o}" height="${a}"></canvas>\n\t\t</div>\n\t\t\n\t<div id="index-line-0" class="index-line"></div>\n\t<div id="index-line-1" class="index-line"></div>\n\t<div id="index-line-2" class="index-line"></div>\n\t<div id="index-line-3" class="index-line"></div>\n\t\n\t\t`;const r=document.querySelector("#dimensional-affordances-card").getContext("2d"),s=[n(o/6),n(o/2),n(5*o/6)],l=[n(a/6),n(a/3),n(a/2),n(2*a/3),n(5*a/6)];d({context:r,p1:[s[0],l[3]],p2:[s[1],l[4]],p3:[s[2],l[3]],p4:[s[1],l[2]],color:t.rectangle3}),d({context:r,p1:[s[0],l[2]],p2:[s[1],l[3]],p3:[s[2],l[2]],p4:[s[1],l[1]],color:t.rectangle2}),d({context:r,p1:[s[0],l[1]],p2:[s[1],l[2]],p3:[s[2],l[1]],p4:[s[1],l[0]],color:t.rectangle1})})({ratio:a,boxWidth:r,boxHeight:s})},this.resize()},w=function({onClose:t}){const n=e,i={x:0,y:0,width:Math.round(Math.min(window.innerWidth,window.innerHeight)/2),height:Math.round(Math.min(window.innerWidth,window.innerHeight)/2)},o={x:0,y:0,vx:16,vy:8},l=Math.round(i.width/4)<20?20:Math.round(i.width/4)>48?48:Math.round(i.width/4);let c=null,h=null,x=!1,u=!1;const g=()=>{const{x:e,y:t,width:o,height:d}=i;h.fillStyle=n.rectangle,h.fillRect(e,t,o,d),h.font="bold 18px serif",h.fillStyle=n.background,h.fillText("⤡",e+o-24,t+d-12)},w=e=>{const{innerHeight:t,innerWidth:n}=window;if(e){const e=Math.round(n/2),i=Math.round(t/2),d=[[e,l],[e,t-l],[l,i],[n-l,i]],a=Math.floor(4*Math.random());return o.x=d[a][0],o.y=d[a][1],o.x>n/2&&(o.vx*=-1),void(o.y>t/2&&(o.vy*=-1))}const d=o.x+o.vx,a=o.y+o.vy,r=a-l<=0||a+l>=t;if((d-l<=0||d+l>=n)&&(o.vx*=-1),r&&(o.vy*=-1),d+l>=i.x&&d-l<=i.x+i.width&&a+l>=i.y&&a-l<=i.y+i.height){const e=Math.abs(i.x-(o.x+l)),t=Math.abs(i.x+i.width-(o.x-l)),n=Math.abs(i.y-(a+l)),d=Math.abs(i.y+i.height-(a-l)),r=Math.min(e,t),s=Math.min(n,d),c=Math.min(r,s);c===r?o.vx*=-1:c===s&&(o.vy*=-1)}o.x+=o.vx,o.y+=o.vy},v=()=>{h.beginPath(),h.arc(o.x,o.y,l,0,2*Math.PI,!1),h.fillStyle=n.circle,h.fill()},p=(e,t)=>{const{x:n,y:o,width:d,height:a}=i,r=n+d,s=o+a;return e>=r-40&&e<=r&&t>=s-40&&t<=s},m=(e,t)=>{const{x:n,y:o,width:d,height:a}=i;return e>=n&&e<=n+d&&t>=o&&t<=o+a},f=()=>{const{innerWidth:e,innerHeight:t}=window;c.width=e,c.height=t,i.x=Math.floor(e/2-i.width/2),i.y=Math.floor(t/2-i.height/2),r(h,n.background),g(),v()},y=()=>{w(),h.clearRect(0,0,window.innerWidth,window.innerHeight),r(h,n.background),g(),v(),window.requestAnimationFrame(y)};a(),c=document.querySelector("canvas"),h=c.getContext("2d"),w(!0),f(),s(n.cancel),window.requestAnimationFrame(y),window.addEventListener("resize",f),window.addEventListener("mousedown",(e=>{const{offsetX:n,offsetY:i,path:o}=e;o.some((e=>e.id&&"close"===e.id))?t():p(n,i)?u=!0:x=m(n,i)})),window.addEventListener("mousemove",(e=>{const{offsetX:t,offsetY:n,movementX:o,movementY:a}=e;d.className=p(t,n)?"c-resize":m(t,n)?"c-move":"c-normal",u&&((e,t)=>{const{width:n,height:o}=i;n+e<80||o+t<80||(i.width=n+e,i.height=o+t,g())})(o,a),x&&((e,t)=>{i.x+=e,i.y+=t,g()})(o,a)})),window.addEventListener("mouseup",(()=>{x=!1,u=!1})),window.removeEventListener("beforeunload",(()=>console.log("unload")))},v=function({onClose:e}){const t=i,n={x:0,y:0,r:60};let o=null,l=null,c=!1;const h=(e,t)=>{const{x:i,y:o,r:d}=n;return(e-i)*(e-i)+(t-o)*(t-o)<=d*d},x=()=>{const{innerHeight:e,innerWidth:i}=window,o=Math.round(i/40),d=Math.round(e/40);for(let e=0;e<o;e++)for(let i=0;i<d;i++){const o=20+40*e,d=20+40*i,a=Math.atan2(d-n.y,o-n.x);l.save(),l.translate(o,d),l.rotate(a),l.beginPath(),l.strokeStyle=t.line,l.lineWidth=3,l.lineCap="round",l.moveTo(-12,0),l.lineTo(12,0),l.stroke(),l.restore()}},u=()=>{l.save();const{x:e,y:i,r:o}=n;l.beginPath(),l.fillStyle=t.circle,l.arc(e,i,o,0,2*Math.PI,!1),l.fill(),l.restore()},g=()=>{r(l,t.background),x(),u(),window.requestAnimationFrame(g)};(()=>{const{innerWidth:e,innerHeight:i}=window;a(),o=document.querySelector("canvas"),o.width=e,o.height=i,l=o.getContext("2d"),n.x=e-180-n.r,n.y=Math.round(i/2),s(t.cancel),window.requestAnimationFrame(g)})(),window.addEventListener("resize",(()=>{const{innerWidth:e,innerHeight:i}=window;o.width=e,o.height=i,n.x+n.r>e-180&&(n.x=e-180-n.r),i-(n.y+n.r)<180&&(n.y=i-180-n.r),r(l,t.background),x(),u()})),window.addEventListener("mousedown",(t=>{const{offsetX:n,offsetY:i,path:o}=t;o.some((e=>e.id&&"close"===e.id))?e():c=h(n,i)})),window.addEventListener("mousemove",(e=>{const{offsetX:t,offsetY:i,movementX:o,movementY:a}=e;d.className=h(t,i)?"c-move":"c-normal",c&&(n.x+=o,n.y+=a,u())})),window.addEventListener("mouseup",(()=>{c=!1}))},p=function({onClose:e}){const t=n,i={x:60,y:60,width:200,height:200},o={x:0,y:0,width:200,height:200};let l=null,c=null,h=!1;const x=()=>{const{x:e,y:n,width:o,height:d}=i;c.fillStyle=t.rectangle,c.fillRect(e,n,o,d)},u=()=>{const e=c.createLinearGradient(i.x,0,o.x+o.width,o.y+o.height);e.addColorStop(0,"rgba(229, 88, 95, 1)"),e.addColorStop(1,"rgba(229, 88, 95, 0)"),c.fillStyle=e,c.beginPath(),i.x<=o.x?(c.moveTo(i.x,i.y+i.height),c.lineTo(o.x,o.y+o.height),c.lineTo(o.x+o.width,o.y),c.lineTo(i.x+i.width,i.y)):(c.moveTo(i.x,i.y),c.lineTo(o.x,o.y),c.lineTo(o.x+o.width,o.y+o.height),c.lineTo(i.x+i.width,i.y+i.height)),c.fill()},g=()=>{const{innerWidth:e,innerHeight:n}=window;l.width=e,l.height=n,o.x=Math.round(Math.abs(e-o.width)/2),o.y=n,r(c,t.background),u(),x()},w=(e,t)=>{const{x:n,y:o,width:d,height:a}=i;return e>=n&&e<=n+d&&t>=o&&t<=o+a};a(),l=document.querySelector("canvas"),c=l.getContext("2d"),g(),s(t.cancel),window.addEventListener("resize",g),window.addEventListener("mousedown",(t=>{const{offsetX:n,offsetY:i,path:o}=t;o.some((e=>e.id&&"close"===e.id))?e():h=w(n,i)})),window.addEventListener("mousemove",(e=>{const{movementX:n,movementY:o,offsetX:a,offsetY:s}=e;w(a,s)?d.className="c-move":d.className="c-normal",h&&(i.x+=n,i.y+=o,r(c,t.background),u(),x())})),window.addEventListener("mouseup",(()=>{h=!1}))},m=function({onClose:e}){const t=o,n=[t.rectangle1,t.rectangle2,t.rectangle3],i={x1:0,y1:0,x2:0,y2:0,width:240,height:120,dx:20,dy:40},l={up:!1,down:!1};let c=null,h=null,x={},u=!1;const g=({p1:e,p2:t,p3:n,p4:i,color:o,moving:d})=>{h.fillStyle=o,h.beginPath(),d||(h.moveTo(e[0],e[1]),h.lineTo(t[0],t[1]),h.lineTo(n[0],n[1]),h.lineTo(i[0],i[1])),h.fill()},w=(e,t)=>{const{x1:n,y1:o,x2:d,y2:a,width:r,height:s}=i;return e>=n&&e<=d+r&&t>=o-s&&t<=a+2*s},v=()=>{x=(({dx:e,dy:t,...n})=>n)(i)},p=()=>{const{innerWidth:e,innerHeight:o}=window;c.width=e,c.height=o,e<=480+i.dx?(i.width=(e-i.dx)/2,i.height=Math.round(i.width/2)):(i.width=240,i.height=120);const d=Math.round(e/2),a=Math.round(o/2);i.x1=d-i.dx/2-i.width,i.y1=a-i.dy/2-i.height,i.x2=d+i.dx/2,i.y2=a+i.dy/2,v();const{x1:s,y1:l,x2:x,y2:u,width:w,height:p}=i;r(h,t.background),g({p1:[s,l+2*p],p2:[s+w,l+p],p3:[x+w,u+p],p4:[x,u+2*p],color:n[2]}),g({p1:[s,l+p],p2:[s+w,l],p3:[x+w,u],p4:[x,u+p],color:n[1]}),g({p1:[s,l],p2:[s+w,l-p],p3:[x+w,u-p],p4:[x,u],color:n[0]})},m=()=>{const{x1:e,y1:o,x2:d,y2:a,width:s,height:l}=i;r(h,t.background),g({p1:[e,o+2*l],p2:[e+s,o+l],p3:[d+s,a+l],p4:[d,a+2*l],color:n[2]}),g(u?{p1:[x.x1,x.y1+x.height],p2:[x.x1+x.width,x.y1],p3:[x.x2+x.width,x.y2],p4:[x.x2,x.y2+x.height],color:n[1]}:{p1:[e,o+l],p2:[e+s,o],p3:[d+s,a],p4:[d,a+l],color:n[1]}),g({p1:[e,o],p2:[e+s,o-l],p3:[d+s,a-l],p4:[d,a],color:n[0]}),window.requestAnimationFrame(m)};a(),c=document.querySelector("canvas"),h=c.getContext("2d"),p(),s(t.cancel),window.requestAnimationFrame(m),window.addEventListener("resize",p),window.addEventListener("mousedown",(t=>{const{offsetX:n,offsetY:i,path:o}=t;o.some((e=>e.id&&"close"===e.id))?e():u=w(n,i)})),window.addEventListener("mousemove",(e=>{const{offsetX:t,offsetY:n,movementY:o}=e;if(d.className=w(t,n)?"c-slide":"c-normal",!u)return;const{y1:a,y2:r,height:s}=i,c=x.y1+o,h=x.y2+o;c<a-s||h>r+s||(x.y1+=o,x.y2+=o,l.up=x.y2+x.height<=r+s/2,l.down=x.y2+x.height>=r+2*s-s/2)})),window.addEventListener("mouseup",(()=>{u=!1,v(),(l.up||l.down)&&(()=>{const e=n[1];n[1]=n[2],n[2]=e})()}))};new function(){this.index=0,this.tangibleSurfacesCard=null,this.emphasizeActionsCard=null,this.meaningfulMotionCard=null,this.userInitiatedChangeCard=null,this.dimensionalAffordancesCard=null,this.setIndex=e=>{this.index=e,this.render()},this.render=()=>{switch(this.index){case 1:document.querySelector(".index-container").remove(),new w({onClose:()=>this.setIndex(0)});break;case 2:alert("서비스 준비 중입니다."),this.setIndex(0);break;case 3:document.querySelector(".index-container").remove(),new p({onClose:()=>this.setIndex(0)});break;case 4:document.querySelector(".index-container").remove(),new v({onClose:()=>this.setIndex(0)});break;case 5:document.querySelector(".index-container").remove(),new m({onClose:()=>this.setIndex(0)});break;default:{const e=document.querySelector(".sub-container");if(e&&(e.remove(),document.querySelector("#close").remove()),document.querySelector(".index-container"))return;const t=document.createElement("div");t.className="index-container",t.style.cursor="pointer",d.appendChild(t),t.addEventListener("click",(({path:e})=>{const t=e[0].id,n=t.indexOf("-"),i=+t.slice(n+1);this.setIndex(i)})),this.tangibleSurfacesCard=new c({$target:t}),this.emphasizeActionsCard=new h({$target:t}),this.meaningfulMotionCard=new x({$target:t}),this.userInitiatedChangeCard=new u({$target:t}),this.dimensionalAffordancesCard=new g({$target:t})}}},this.render(),window.addEventListener("resize",(()=>{this.index>0||(this.tangibleSurfacesCard.resize(),this.emphasizeActionsCard.resize(),this.meaningfulMotionCard.resize(),this.userInitiatedChangeCard.resize(),this.dimensionalAffordancesCard.resize())}))}})();